================================================================================
| Triva INSTALL file for Debian (Lenny, Testing) and Ubuntu (Jaunty, Karmic)   |
================================================================================

Check the INSTALL.simplified for fast instructions.

This file intends to give some guidelines to compile Triva. The 
prototype needs a Objective-C compilation environment, the latest
version of GNUstep, the SVN version of Paj√©, and other libraries.

We first give an overview about the pre-requisites, and then go
to the compiling of the tool.

|------------------------------|
|                              |
| A. Pre-requisites for Triva2 |
|                              |
|------------------------------|

|------------------------------|
| A1. GNUstep                  |
|------------------------------|

GNUstep (and ObjC, ObjC++) dependencies:

$ sudo apt-get install libgnustep-gui-dev  libgnustep-base-dev
$ sudo apt-get install build-essential gobjc

|------------------------------|
| A2. Paje                     |
|------------------------------|

First, source the GNUstep script, as follows:

$ source /usr/share/GNUstep/Makefiles/GNUstep.sh

Triva2 needs Paje. To install it, please checkout the most up-to-date sources
from the SVN repository by executing the following commands:

$ svn checkout svn://svn.forge.objectweb.org/svnroot/paje/trunk/Paje/
$ cd Paje
$ make
$ make install GNUSTEP_INSTALLATION_DOMAIN=USER

Paje will be installed in the $HOME/GNUstep directory. At this point, you can
open paje to see if it is working, executing "openapp Paje"

|------------------------------|
| A3. Other libraries/tools    |
|------------------------------|

These are the libraries/tools that must be present:

$ sudo apt-get install autoconf automake 
$ sudo apt-get install libgraphviz-dev libmatheval1-dev

|------------------------------|
|                              |
| B. Triva2: Compilation       |
|                              |
|------------------------------|

$ source /usr/share/GNUstep/Makefiles/GNUstep.sh
$ export LANG=C
$ tar xfz Triva-2.0.tar.gz
$ cd Triva-2.0
$ ./bootstrap

You can configure Triva to one of the 5 visualization modules.
There is no default, so here you have to choose one of them. We take here
as example the configuration for the SquarifiedTreemap view.

$ ./configure --enable-SquarifiedTreemap
$ make

|------------------------------|
|                              |
| B. Triva2: Execution         |
|                              |
|------------------------------|

To execute locally, you have to set the LD_LIBRARY_PATH to point to
the Triva library, like this:

$ export LD_LIBRARY_PATH = \
 	$LD_LIBRARY_PATH:./Triva/Triva.framework/Versions/Current/

Execute the file ./Triva.app/Triva using a Paje trace file as parameter.

To make the program available (through the Triva binary) in any directory,
you can install in your HOME with this command:

$ make install GNUSTEP_INSTALLATION_DOMAIN=USER

That's it.
