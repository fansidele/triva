================================================================================
| Triva INSTALL file (last update 2009-12-17)                                  |
================================================================================

If you dont want to bother with all the details,
just execute this command: "grep ^\\$ INSTALL | cut -d' ' -f2-"


This file intends to give some guidelines to compile Triva. The 
prototype needs a Objective-C and Objective-C++ compilation
environment installed, the latest version of GNUstep, the SVN
version of Paj√©, and other libraries (some are optional).

We first give an overview about the pre-requisites, and then go
to the compiling of the tool.

|------------------------------|
|                              |
| A. Pre-requisites for Triva2 |
|                              |
|------------------------------|

$ mkdir /tmp/installing-triva/ ; pushcd /tmp/installing-triva

|------------------------------|
| A1. GNUstep                  |
|------------------------------|

GNUstep (and ObjC, ObjC++) dependencies on Ubuntu 9.10:

$ sudo apt-get install build-essential gobjc++ libjpeg-dev libtiff-dev
$ sudo apt-get install libpng-dev libxt-dev xorg-dev libssl-dev libxml2-dev
$ sudo apt-get install libxslt1-dev libffcall1-dev

The best way to perform the GNUstep installation is through the
GNUstep-startup package, which can be found here:

$ wget http://ftpmain.gnustep.org/pub/gnustep/core/gnustep-startup-0.23.0.tar.gz
$ tar xfz gnustep-startup-0.23.0.tar.gz
$ cd gnustep-startup-0.23.0
$ sudo ./InstallGNUstep
$ cd ..

The script will perform a series of tests to evaluate if your system has all
the necessary libraries to install the GNUstep environment. If you installed
the prerequisites for the GNUstep, it should work without problems.

The default installation directory for GNUstep is on /usr/GNUstep. You need
to source the GNUstep.sh script to activate the GNUstep environment. This
has to be done every time a new shell is open (or put it on your initialization
scripts):

$ source /usr/GNUstep/System/Library/Makefiles/GNUstep.sh

|------------------------------|
| A2. Paje                     |
|------------------------------|

First, source the GNUstep script, as follows:

$ source /usr/GNUstep/System/Library/Makefiles/GNUstep.sh

Triva2 needs Paje. To install it, please checkout the most up-to-date sources
from the SVN repository by executing the following commands:

$ svn checkout svn://svn.forge.objectweb.org/svnroot/paje/trunk/Paje/
$ cd Paje
$ make
$ make install GNUSTEP_INSTALLATION_DOMAIN=USER
$ cd ..

Paje will be installed in the $HOME/GNUstep directory. At this point, you can
open paje to see if it is working, executing "openapp Paje"

|------------------------------|
| A3. Other libraries/tools    |
|------------------------------|

These are the libraries/tools that must be present:

$ sudo apt-get install autoconf wx-common libgtk2.0-dev libwxgtk2.8-dev

These are the libraries/tools that must be present if the 3D visualization
components will be used (note that the mesa implementation of GL might not
be the best option for you, especially if you have a good 3D graphic's card):

$ sudo apt-get install libogre-dev libgl1-mesa-dev

The following libraries are required for all the visualization components,
except the SquarifiedTreemap:

$ sudo apt-get install libgraphviz-dev 

|------------------------------|
|                              |
| B. Triva2: Compilation       |
|                              |
|------------------------------|

The Triva2 sources can be downloaded here:
$ wget http://dl.getdropbox.com/u/1119921/Triva-2.0.tar.gz

$ source /usr/GNUstep/System/Library/Makefiles/GNUstep.sh
$ tar xfz Triva2.tgz
$ cd Triva2
$ ./bootstrap
$ ./configure
$ make
$ cd ..

Now, you should have a binary ./obj/Triva2.
Execute this file using a Paje trace file as parameter.

The NetworkTopology visualization module requires a
second additional parameter which must be the name
of the dot format file that contains a graph of the
network topology.

That's it.

$ popcd
