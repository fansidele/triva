#=====================
#| Triva INSTALL file
#=====================

# This installs all the dependencies for a GNUstep installation based
# on the GNUstep-startup package. The list of packages may depend on
# your system installation. The list below considers an Ubuntu 10.04.

$ sudo apt-get install libxml2-dev libxslt1-dev libssl-dev libx11-dev \
                       libxext-dev libxt-dev libjpeg62-dev libtiff4-dev \
                       libpng12-dev libffi-dev gobjc \
                       build-essential

# Installing GNUstep startup from source (change the version according
# to the GNUstep website)

$ GNUSTEP=gnustep-startup-0.25.0
$ wget http://ftpmain.gnustep.org/pub/gnustep/core/$GNUSTEP.tar.gz
$ tar xfz $GNUSTEP.tar.gz   
$ cd $GNUSTEP
$ sudo ./InstallGNUstep

# You might want to put this line in some initialization script 
$ source /usr/GNUstep/System/Library/Makefiles/GNUstep.sh

# Installing Paje (a dependency for installing Triva)

$ source /usr/GNUstep/System/Library/Makefiles/GNUstep.sh
$ git clone -b schnorr/official/master git://paje.git.sourceforge.net/gitroot/paje/paje Paje
$ export LANG=C
$ cd Paje
$ git checkout 
$ make
$ make install GNUSTEP_INSTALLATION_DOMAIN=USER

# Installing GNUstep's Renaissance (adapted for Triva)

$ svn co http://svn.gna.org/svn/gnustep/libs/renaissance/trunk renaissance
$ cd renaissance
$ source /usr/GNUstep/System/Library/Makefiles/GNUstep.sh
$ make
$ make install

# Installing Triva (and its dependencies - packages for Ubuntu 10.04)
# The lines below consider a possibly unstable installation of Triva (based
# on the SVN development version). Packaged versions can be found on the
# the website: http://triva.gforge.inria.fr.

$ sudo apt-get install autoconf automake \
                       libgraphviz-dev libmatheval1-dev \
                       libgsl0-dev

$ source /usr/GNUstep/System/Library/Makefiles/GNUstep.sh
$ svn checkout svn://scm.gforge.inria.fr/svn/triva
$ export LANG=C
$ cd triva
$ ./bootstrap
$ ./configure
$ make
$ make install GNUSTEP_INSTALLATION_DOMAIN=USER

# To execute triva from its source directory, do

$ export \
  LD_LIBRARY_PATH=$LD_LIBRARY_PATH:./Triva/Triva.framework/Versions/Current/:./Tupi/Tupi.framework/Versions/Current/
$ ./App/Triva.app/Triva --help

# To install it (so you can use it anywhere on your system as your user)
# Remember to source the GNUstep.sh file before trying to execute Triva

$ source /usr/GNUstep/System/Library/Makefiles/GNUstep.sh
$ make install GNUSTEP_INSTALLATION_DOMAIN=USER
$ Triva --help
